if(PROJECT_BUILD_DEBUG)
  if(CMAKE_SYSTEM_NAME STREQUAL "Generic")
    option(PROJECT_BUILD_OPTIM "" ON)
  endif()
else()
  option(PROJECT_BUILD_OPTIM "" ON)
endif()

if (PROJECT_BUILD_DEBUG)
  MATH(EXPR EMC_USB_VENDOR_CELENO_UMAC_APP_BUILD_ID "${EMC_USB_VENDOR_CELENO_UMAC_APP_BUILD_ID}+128")
endif()

set(EMC_LOG "INTERNAL" CACHE STRING "") #is the default anyway
set(EMC_LOG_INTERNAL_INSTANCES  "40" CACHE STRING "")

if(PROJECT_BUILD_DEBUG)
  set(EMC_LOG_LEVEL "TRACE" CACHE STRING "" FORCE)
else()
  set(EMC_LOG_LEVEL "INFO" CACHE STRING "" FORCE)
endif()

if(CMAKE_SYSTEM_NAME STREQUAL "Generic")
  if(EMC_USB_VENDOR_CELENO_HAS_WIFI_FUNCTION)
    set(EMC_LOG_INTERNAL_APPENDER_MEMORY_INSTANCES "8" CACHE STRING "")
    set(EMC_LOG_INTERNAL_MEMORY_SIZE  "26 * 1024" CACHE STRING "")
  else()
    set(EMC_LOG_INTERNAL_APPENDER_MEMORY_INSTANCES "5" CACHE STRING "")
    set(EMC_LOG_INTERNAL_MEMORY_SIZE  "10 * 1024" CACHE STRING "")
  endif()
  set(EMC_LOG_INTERNAL_APPENDER_BUFFERED_TRANSPORT_INSTANCES "1" CACHE STRING "")
  set(EMC_LOG_INTERNAL_BUFFERED_TRANSPORT_SIZE "1 * 1024" CACHE STRING "")
  option(EMC_LOG_INTERNAL_USES_PC "" TRUE)
  option(EMC_LOG_INTERNAL_USES_TIMESTAMP "" TRUE)
else()
  set(EMC_LOG_INTERNAL_APPENDER_PRINTF_INSTANCES "2" CACHE STRING "")
endif()

set(EMC_STD_ASSERT "EMULATE" CACHE STRING "")
if (CMAKE_SYSTEM_NAME STREQUAL "Generic")
  set(EMC_STD_ASSERT_IMPL "MEM" CACHE STRING "" FORCE)
  #the minimal code + rodata can be achieved with the following settings
  set(EMC_STD_ASSERT_SRC_POS "PROGRAM_COUNT" CACHE STRING "")
  option(EMC_STD_ASSERT_MESSAGE "" OFF)
  option(EMC_STD_ASSERT_CONTEXT "" OFF)
  option(EMC_STD_ASSERT_FUNCTION "" OFF)
endif()
